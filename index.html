<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Asistente de Creación de SDA v2</title>
    <style>
        :root {
            --primary-color: #007bff;
            --secondary-color: #6c757d;
            --background-color: #f8f9fa;
            --text-color: #212529;
            --light-gray: #e9ecef;
            --white: #fff;
            --success-color: #28a745;
            --border-radius: 8px;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            margin: 0;
            padding: 2rem;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        .container {
            width: 100%;
            max-width: 800px;
            background-color: var(--white);
            padding: 2rem;
            border-radius: var(--border-radius);
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        h1, h2, h3 {
            color: var(--primary-color);
            text-align: center;
        }
        .progress-bar {
            display: flex;
            justify-content: space-between;
            margin-bottom: 2rem;
            list-style: none;
            padding: 0;
        }
        .progress-bar li {
            flex: 1;
            text-align: center;
            color: var(--secondary-color);
            position: relative;
        }
        .progress-bar li.active {
            color: var(--primary-color);
            font-weight: bold;
        }
        .progress-bar li:not(:last-child)::after {
            content: '';
            position: absolute;
            width: calc(100% - 2rem);
            height: 2px;
            background-color: var(--light-gray);
            top: 50%;
            left: calc(50% + 1rem);
            transform: translateY(-50%);
        }
        .progress-bar li.active:not(:last-child)::after {
            background-color: var(--primary-color);
        }
        .step {
            display: none;
        }
        .step.active {
            display: block;
        }
        .form-group {
            margin-bottom: 1.5rem;
        }
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }
        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #ced4da;
            border-radius: var(--border-radius);
            font-size: 1rem;
        }
        .form-group textarea {
            min-height: 100px;
            resize: vertical;
        }
        .form-group small {
            color: var(--secondary-color);
        }
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
        }
        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: var(--border-radius);
            font-size: 1rem;
            cursor: pointer;
            text-decoration: none;
            text-align: center;
        }
        .btn-primary {
            background-color: var(--primary-color);
            color: var(--white);
        }
        .btn-secondary {
            background-color: var(--secondary-color);
            color: var(--white);
        }
        .btn-success {
            background-color: var(--success-color);
            color: var(--white);
            font-size: 1.2rem;
        }
        .radio-option {
            background-color: var(--light-gray);
            padding: 1rem;
            border-radius: var(--border-radius);
            margin-bottom: 0.5rem;
            border: 2px solid transparent;
        }
        .radio-option:hover {
            border-color: var(--primary-color);
        }
        .radio-option label {
            display: block;
            font-weight: bold;
        }
        .radio-option small {
            color: var(--text-color);
        }
        #custom-product-area {
            display: none; /* Hidden by default */
            margin-top: 1rem;
        }
        
        /* Result Page Styles */
        #result-page h3, #result-page h4 {
            color: var(--primary-color);
            border-bottom: 2px solid var(--light-gray);
            padding-bottom: 0.5rem;
            margin-top: 2rem;
        }
        #result-page h4 {
            border-bottom: none;
            margin-top: 1.5rem;
        }
        #result-page .action-bar {
            text-align: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--light-gray);
        }
        #result-page .action-bar .btn { margin: 0 0.5rem; }
        #result-page p, #result-page ul { line-height: 1.6; }
        #result-page ul { padding-left: 20px; }
        #result-page strong { color: var(--text-color); }
        #result-page table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
        }
        #result-page th, #result-page td {
            border: 1px solid #dee2e6;
            padding: 0.75rem;
            text-align: left;
        }
        #result-page th {
            background-color: var(--light-gray);
        }
        #result-page .presentation-btn {
            font-size: 0.8rem;
            padding: 0.2rem 0.5rem;
            margin-left: 1rem;
            vertical-align: middle;
        }

    </style>
</head>
<body>

    <div class="container">
        <h1>Asistente de Creación de SDA</h1>
        
        <ul class="progress-bar">
            <li id="progress-1" class="active">Paso 1</li>
            <li id="progress-2">Paso 2</li>
            <li id="progress-3">Paso 3</li>
            <li id="progress-4">Paso 4</li>
        </ul>

        <div id="step-1" class="step active">
            <h2>Paso 1 de 4: ¿Qué vamos a planificar?</h2>
            <div class="form-group">
                <label for="title">Título provisional de la SDA</label>
                <input type="text" id="title" value="Las estructuras de mi ciudad">
                <small>Ej: El viaje del agua en Cantabria, Misterios de la estadística...</small>
            </div>
            <div class="form-group">
                <label for="course">Curso</label>
                <select id="course">
                    <option>1º ESO</option>
                    <option>2º ESO</option>
                    <option selected>3º ESO</option>
                    <option>4º ESO</option>
                    <option>1º Bachillerato</option>
                </select>
            </div>
            <div class="form-group">
                <label for="subject">Materia</label>
                <select id="subject">
                    <option>Biología y Geología</option>
                    <option>Física y Química</option>
                    <option selected>Tecnología y Digitalización</option>
                    <option>Lengua Castellana y Literatura</option>
                </select>
            </div>
            <div class="navigation-buttons">
                <span></span>
                <button class="btn btn-primary" onclick="goToStep(2)">Siguiente &gt;</button>
            </div>
        </div>

        <div id="step-2" class="step">
            <h2>Paso 2 de 4: Selecciona los elementos curriculares</h2>
            <p>Basado en 3º ESO - Tecnología y Digitalización. (Esta sección se rellenaría automáticamente desde la base de datos).</p>
            <div>
                <h3>Competencias Específicas</h3>
                <label><input type="checkbox" checked> CE3. Aplicar de forma apropiada y segura distintas técnicas...</label><br>
                <label><input type="checkbox"> CE4. Describir, representar e intercambiar ideas...</label><br>
                <label><input type="checkbox" checked> CE5. Hacer un uso responsable y ético de la tecnología...</label>
            </div>
            <div style="margin-top: 1rem;">
                <h3>Saberes Básicos</h3>
                <label><input type="checkbox" checked> Estructuras: Elementos resistentes, tipos, esfuerzos...</label><br>
                <label><input type="checkbox" checked> Materiales de uso técnico: Propiedades y clasificación...</label><br>
                <label><input type="checkbox" checked> Fases de un proyecto de diseño: Diseño, planificación...</label>
            </div>
            <div class="navigation-buttons">
                <button class="btn btn-secondary" onclick="goToStep(1)">&lt; Anterior</button>
                <button class="btn btn-primary" onclick="goToStep(3)">Siguiente &gt;</button>
            </div>
        </div>

        <div id="step-3" class="step">
            <h2>Paso 3 de 4: ¿Cómo vamos a enseñar?</h2>
            <div class="form-group">
                <label for="methodology">Metodología Principal</label>
                <select id="methodology">
                    <option selected>Aprendizaje Basado en Proyectos (ABP)</option>
                    <option>Gamificación</option>
                    <option>Clase Invertida</option>
                </select>
            </div>
            <div class="form-group">
                <label>Tipo de Agrupamiento</label><br>
                <label><input type="radio" name="grouping"> Individual</label>
                <label><input type="radio" name="grouping"> Parejas</label>
                <label><input type="radio" name="grouping" checked> Pequeños Grupos (3-4)</label>
            </div>
            <div class="form-group">
                <label for="resources">Herramientas y Recursos Disponibles</label>
                <textarea id="resources">Ordenadores con conexión a internet, Móviles/Tablets para tomar fotografías y vídeos, Material para construir maquetas (cartón, madera, silicona, etc.).</textarea>
            </div>
            <div class="navigation-buttons">
                <button class="btn btn-secondary" onclick="goToStep(2)">&lt; Anterior</button>
                <button class="btn btn-primary" onclick="goToStep(4)">Siguiente &gt;</button>
            </div>
        </div>
        
        <div id="step-4" class="step">
            <h2>Paso 4 de 4: El reto para tu alumnado</h2>
            <div class="form-group">
                <label for="context">Descripción del Contexto</label>
                <textarea id="context">El grupo de 3º de ESO es un grupo participativo y familiarizado con el uso básico de la tecnología, aunque con menos experiencia en el trabajo autónomo por proyectos. Se ubica en un instituto público en un entorno urbano...</textarea>
            </div>
            <div class="form-group">
                <label>Producto Final o Reto Principal</label>
                <small>La IA te sugiere varias ideas de proyecto. Elige una o escribe la tuya.</small>

                <div class="radio-option">
                    <label><input type="radio" name="product" value="1" checked onclick="toggleCustomProduct(false)"> Opción 1: "Guía Interactiva de Estructuras"</label>
                    <small>Los alumnos crean un sitio web o presentación donde analizan 3 estructuras de la ciudad y presentan la maqueta de una de ellas.</small>
                </div>
                <div class="radio-option">
                    <label><input type="radio" name="product" value="2" onclick="toggleCustomProduct(false)"> Opción 2: "Documental: Ingenieros Urbanos"</label>
                    <small>Los alumnos graban un breve documental (5-7 min) explicando los tipos de estructuras, mostrando ejemplos reales y el proceso de construcción de su maqueta.</small>
                </div>
                <div class="radio-option">
                     <label><input type="radio" name="product" value="custom" onclick="toggleCustomProduct(true)"> Otra (introdúcela tú mismo):</label>
                </div>
                <div id="custom-product-area">
                    <textarea placeholder="Describe aquí tu propia idea de producto final o reto..."></textarea>
                </div>
            </div>
            <div class="form-group">
                <label for="sessions">Número de Sesiones Estimadas</label>
                <input type="number" id="sessions" value="8">
            </div>
            <div class="navigation-buttons">
                <button class="btn btn-secondary" onclick="goToStep(3)">&lt; Anterior</button>
                <button class="btn btn-success" onclick="generateResult()">✨ ¡Generar Situación de Aprendizaje!</button>
            </div>
        </div>

        <div id="result-page" class="step">
            <div class="action-bar">
                <button class="btn btn-primary">⬇️ Descargar PDF</button>
                <button class="btn btn-secondary">✏️ Editar</button>
            </div>

            <h2>Ciudad de Titanes: Descifrando las estructuras que nos sostienen</h2>

            <h3>1. Justificación y Contextualización</h3>
            <p>Vivimos rodeados de estructuras: puentes que cruzamos, pabellones donde hacemos deporte... Esta SDA conecta los saberes abstractos de la tecnología con el entorno tangible del alumnado, fomentando la autonomía y el pensamiento crítico.</p>
            
            <h3>2. Conexión Curricular</h3>
            <h4>Competencias Específicas</h4>
            <ul>
                <li><strong>CE3.</strong> Aplicar de forma apropiada y segura distintas técnicas y conocimientos interdisciplinares utilizando operadores, sistemas tecnológicos y herramientas, teniendo en cuenta la planificación y el diseño previo, para construir o fabricar soluciones tecnológicas y sostenibles que den respuesta a necesidades en diferentes contextos.</li>
                <li><strong>CE5.</strong> Hacer un uso responsable y ético de la tecnología, analizando sus repercusiones individuales, sociales y medioambientales, aplicando criterios de sostenibilidad y valorando las aportaciones y el impacto de la tecnología en la sociedad y en la consecución de los Objetivos de Desarrollo Sostenible, para promover un desarrollo tecnológico saludable, sostenible e igualitario.</li>
            </ul>
             <h4>Criterios de Evaluación</h4>
            <ul>
                <li><strong>3.1.</strong> Construir o fabricar prototipos, de forma individual o en equipo, aplicando técnicas de fabricación manual y digital, a partir de un diseño previo y utilizando los recursos y herramientas apropiados de manera segura.</li>
                <li><strong>5.1.</strong> Argumentar la elección de soluciones tecnológicas a problemas o necesidades, valorando criterios de eficiencia, sostenibilidad, accesibilidad e impacto social.</li>
            </ul>
            <h4>Saberes Básicos</h4>
             <ul>
                <li>Estructuras: Elementos resistentes, tipos, esfuerzos (tracción, compresión, flexión, torsión y cortadura).</li>
                <li>Materiales de uso técnico: Propiedades y clasificación (madera, metales, plásticos, etc.). Impacto medioambiental.</li>
                <li>Fases de un proyecto de diseño: Diseño, planificación y fabricación.</li>
            </ul>


            <h3>3. Producto Final y Desafío</h3>
            <p>El reto será crear una <strong>"Guía Interactiva de las Estructuras Notables de nuestra Ciudad"</strong>, incluyendo análisis de 3 estructuras reales, una maqueta a escala y una presentación final.</p>
            
            <h3>5. Secuencia de Actividades (8 Sesiones)</h3>
            <p><strong>Sesión 1: "El Desafío de los Titanes"</strong> <button class="btn btn-primary presentation-btn">🖥️ Generar Presentación</button><br>
            Presentación del proyecto, debate inicial y formación de grupos.</p>
            
            <h3>7. Escenario de Evaluación</h3>
            <p>La evaluación será continua. La calificación final se basará en la siguiente rúbrica:</p>
            
            <h4>Rúbrica de Evaluación del Proyecto</h4>
            <table>
                <thead>
                    <tr>
                        <th>Criterio</th>
                        <th>Iniciado (1-4)</th>
                        <th>En Proceso (5-6)</th>
                        <th>Conseguido (7-8)</th>
                        <th>Experto (9-10)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Análisis de Estructuras</strong></td>
                        <td>Identifica estructuras de forma superficial.</td>
                        <td>El análisis es genérico o poco preciso.</td>
                        <td>Analiza correctamente 3 estructuras.</td>
                        <td>El análisis es detallado y usa vocabulario técnico.</td>
                    </tr>
                    <tr>
                        <td><strong>Construcción de Maqueta</strong></td>
                        <td>La maqueta es inestable o inacabada.</td>
                        <td>La maqueta es estable pero poco precisa.</td>
                        <td>La maqueta es estable, funcional y precisa.</td>
                        <td>La maqueta demuestra un alto nivel de detalle.</td>
                    </tr>
                </tbody>
            </table>
             <div class="navigation-buttons">
                <button class="btn btn-secondary" onclick="restart()"> &lt; Empezar de Nuevo</button>
            </div>
        </div>
    </div>

    <script>
        let currentStep = 1;

        function goToStep(stepNumber) {
            document.getElementById('step-' + currentStep).classList.remove('active');
            if(document.getElementById('progress-' + currentStep)) {
                document.getElementById('progress-' + currentStep).classList.remove('active');
            }

            currentStep = stepNumber;
            const nextStepElement = document.getElementById('step-' + currentStep);
            if(nextStepElement) {
                nextStepElement.classList.add('active');
            }
            
            for(let i = 1; i <= 4; i++) {
                const progressElement = document.getElementById('progress-' + i);
                if(progressElement) {
                    if(i <= currentStep) {
                        progressElement.classList.add('active');
                    } else {
                        progressElement.classList.remove('active');
                    }
                }
            }
        }

        function generateResult() {
            document.getElementById('step-' + currentStep).classList.remove('active');
            document.querySelector('.progress-bar').style.display = 'none';
            document.querySelector('h1').style.display = 'none';

            const resultPage = document.getElementById('result-page');
            resultPage.classList.add('active');
        }

        function toggleCustomProduct(isCustom) {
            const customArea = document.getElementById('custom-product-area');
            if (isCustom) {
                customArea.style.display = 'block';
            } else {
                customArea.style.display = 'none';
            }
        }
        
        function restart() {
            // This is a simple way to restart the demo
            window.location.reload();
        }

    </script>
</body>
</html>
